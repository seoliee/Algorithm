package SWEA.러시아국기같은깃발_4613;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Scanner;

public class Solution {
	static int[] rows;
	
	public static void main(String[] args) throws FileNotFoundException {
		File file = new File("./src/SWEA/러시아국기같은깃발_4613/input.txt");
		Scanner sc = new Scanner(file);
		
		// 테스트케이스
		int T = sc.nextInt();
		
		// 테스트케이스만큼 반복 시작
		for(int tc = 1; tc <= T; tc++) {
			int N = sc.nextInt();
			int M = sc.nextInt();
			
			// 깃발 입력받기
			char[][] flag = new char[N][M];
			for(int i = 0; i < N; i++) {
				flag[i] = sc.next().toCharArray();
			}
			
			// row 하나에서 새로 칠해야 하는 칸의 수
			int[] notW = new int[N];
			int[] notB = new int[N];
			int[] notR = new int[N];
			
			for(int row = 0; row < N; row++) {
				int w = 0;
				int b = 0;
				int r = 0;
				
				for(int col = 0; col < M; col++) {
					char color = flag[row][col];
					if(color != 'W') w++;
					if(color != 'B') b++;
					if(color != 'R') r++;
				}
				notW[row] = w;
				notB[row] = b;
				notR[row] = r;
			}
			
			// 각 행의 누적합
			int[] sumW = new int[N+1];
			int[] sumB = new int[N+1];
			int[] sumR = new int[N+1];
			for(int i = 0; i < N; i++) {
				sumW[i+1] = sumW[i] + notW[i];
				sumB[i+1] = sumB[i] + notB[i];
				sumR[i+1] = sumR[i] + notR[i];
			}
			
			// 칠해야 하는 최소값
			int result = Integer.MAX_VALUE;
			
			
			// 결과 배열
			result = new ArrayList<>();
			
			// 가운데 경계 구해
			// 1 ~ N-1 중에서 2개 골라
			// 앞에 수는 뒤에 수보다 같거나 작아야한다
			
			rows = new int[N];
			for(int i = 0; i < N; i++) {
				rows[i] = i+1;
			}
			
			// rows에서 2개 뽑으면 되잔아
			for(int i = 1; i < N-1; i++) {
				for(int j = i; j < N-1; j++) {
					result.add(new int[] {i, j});
				}
			}
			
			// flag[i].toCharArray
			char[][] charFlag = new char[N][M];
			
			for(int i = 0; i < N; i++) {
				charFlag[i] = flag[i].toCharArray();
			}
			
			// 새로 칠해야 하는 칸
			int blue = 0;
			int minCnt = N * M;
			
			// result.get(0) = {1, 1}
			
			// 맨 윗줄, 맨 아랫줄 칠해야 하는 칸
			int white = 0;
			int red = 0;
			
			for(int i = 0; i < result.size(); i++) {
				int start = result.get(i)[0];
				int end = result.get(i)[1];
				
				while(start <= end) {
					for(int c = 0; c < M; c++) {
						if(charFlag[0][c] != 'W') {
							white++;
						}
						if(charFlag[N-1][c] != 'R') {
							red++;
						}
						if(charFlag[start][c] != 'B') {
							blue++;
						}
					}	
					start++;
				}
				int cnt = blue+white+red;
				
				if(cnt < minCnt)
					minCnt = cnt;
			}
			System.out.println(minCnt);
			
		}  // 테스트케이스만큼 반복 끝
		
		
		

	}


}
